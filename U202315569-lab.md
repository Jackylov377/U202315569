姓名：谢耀霖  
班级：2305班  
学号：U202315569  
日期：2025-9-30

---

# 实验简介

## 一.实验背景
随着云计算与大数据应用的快速普及，“对象存储”（Object Storage）已经成为大规模数据存储系统中的关键组成部分。对象存储相比传统的文件存储或块存储，有更好的扩展性、弹性，以及管理海量非结构化数据（比如图片、日志、备份、媒体文件等）的能力。在许多生产系统中，如 AWS S3、Azure Blob Storage、MinIO 等，对象存储提供高级 API、丰富元数据支持、版本管理、权限控制等功能。

然而，在这些系统中，延迟（Latency） 的表现尤其关键。用户期望读写请求的响应时间低且稳定，但在并发请求高、对象大小不一、网络负载重等情况下，经常出现 尾部延迟（Tail Latency） 的现象——即某些请求响应时间明显高于平均水平。这可能影响系统的可用性、用户体验和整体吞吐率。

在 “大数据存储技术实验”中，一个重要的课题就是理解对象存储系统在不同负载（特别是并发数）下的延迟分布是如何变化的。这包括不仅看平均延迟，更要关注 P50 / P90 / P95 / P99 等分位数（或百分位延迟），因为这些指标能揭示在高并发情况下系统的响应质量和稳定性。
## 二.软件环境
| 软件   | 配置                              |
| ------ | --------------------------------- |
| 操作系统    |Windows 11 家庭中文版  |
| Golang版本   |   go1.25.1 windows/amd64         |
| Server   |   Minio                          |
| Client   |   boto3                         |

## 三.硬件环境
| 硬件   | 配置                              |
| ------ | --------------------------------- |
| CPU    | Intel(R) Core(TM) Ultra 5 225H (1.70 GHz) |
| 内存   | 32.0 GB (31.5 GB 可用)            |
| 硬盘   | 1T SSD                            |

## 四.实验目的
1.熟悉对象存储技术，代表性系统及其特性；  
2.实践对象存储系统，部署实验环境，进行初步测试；  
3.基于对象存储系统，分析性能问题，架设应用实践。  

## 五.主要实验内容

# 实验内容

## 实验1.搭建对象存储
### 1.1 安装本地minio服务端  
采用Docker容器进行安装和配置  
<div style="text-align: center;">
  <img src="images/Docker安装minio.jpg" alt="安装minio" width="600">
  <br>
  <sub>图1 安装Minio</sub>
</div>


<div style="text-align: center;">
  <img src="images/Docker安装minio1.jpg" alt="安装minio" width="800">
  <br>
  <sub>图2 配置Minio</sub>
</div>

### 1.2 安装本地的boto3客户端
在pycharm里下载boto3库后连接minio  
```python
s3 = boto3.client(
    "s3",
    endpoint_url="http://127.0.0.1:9000",
    aws_access_key_id="admin",
    aws_secret_access_key="admin123",
    region_name="us-east-1"
)
```
浏览器访问127.0.0.1:9000，输入账号admin，密码admin123后访问正常.
<div style="text-align: center;">
  <img src="images/进入minio.jpg" alt="安装minio" width="800">
  <br>
  <sub>图3 进入Minio</sub>
</div>

### 1.3 实践基本功能
做完以上操作之后，使用boto3客户端对服务端做CRUD操作，通过python代码完成，代码见boto3client.py.
<div style="text-align: center;">
  <img src="images/创建txt结果.jpg" alt="安装minio" width="800">
  <br>
  <sub>图4 创建库,上传对象并且读取对象的内容(minio界面)</sub>
</div>

<div style="text-align: center;">
  <img src="images/创建结果.jpg" alt="安装minio" width="800">
  <br>
  <sub>图5 创建库,上传对象并且读取对象的内容(Pycharm界面)</sub>
</div>

<div style="text-align: center;">
  <img src="images/删除txt结果.jpg" alt="安装minio" width="800">
  <br>
  <sub>图6 删除对象并删除库(minio界面)</sub>
</div>

<div style="text-align: center;">
  <img src="images/删除结果.jpg" alt="安装minio" width="800">
  <br>
  <sub>图7 删除对象并删除库(Pycharm界面)</sub>
</div>

## 实验2.观测分析性能
### 2.1 请求并发数对延迟分布和吞吐率的影响
下载标准测试环境s3bench,使用之前需要先配置go环境
```
go install github.com/igneous-systems/s3bench@latest
```
配置好之后在powershell里编写测试脚本(见test1_powershell.txt)，设置的参数如下:  
numClients(并发数) = 1,5,10,20,50,100  
numSamples(请求总数) = 500  
objectSize(对象大小) = 1MB  
测试的结果见s3bench_result1文件夹  
用python绘制关系图如下  
<p align="center">
  <img src="images/并发数和延迟的关系.png" alt="图8" width="500"/>
  <img src="images/并发数和吞吐率的关系.png" alt="图9" width="500"/>
</p>

<p align="center">
  图8 并发数和延迟的关系  图9 并发数和吞吐率的关系
</p>
## 实验3.尝试建模预测

# 实验小结

